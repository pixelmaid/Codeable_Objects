package com.pattern;

import java.util.Vector;

import processing.core.PApplet;

import com.datatype.Point;
import com.primitive2d.Drawable;
import com.primitive2d.Ellipse;
import com.primitive2d.Line;
import com.primitive2d.LineCollection;
import com.primitive2d.Polygon;

//base class for all patterns
public class Pattern extends LineCollection{
	
	
	public Pattern(){
		super();
	}
	
	public Pattern(Point origin, Vector<Point> points, Vector<Line> lines, Vector<Polygon> polygons,  Vector<Ellipse> ellipses){
		super(origin, points, lines, polygons, ellipses)

	}
	
	@Override
	public void draw(PApplet parent, float strokeWeight){
		parent.stroke(255,0,255);	
		super.draw(parent, strokeWeight);
	}
	
	@Override
	public void print(PApplet parent, float strokeWeight, String filename){
		parent.stroke(255,0,255);	
		super.print(parent, strokeWeight,filename);
	}
	
	@Override
	public Pattern copy(){
		Vector<Line>lines = new Vector<Line>();
		Vector<Point>points = new Vector<Point>(); 
		Vector<Polygon>polygons = new Vector<Polygon>();
		Vector<Ellipse>ellipses = new Vector<Ellipse>();
		Point newOrigin = this.origin.copy();
		
		for(int i=0;i<this.polygons.size();i++){
			Vector<Line> oldPolygonLines = getPolygonAt(i).getAllLines();
			Polygon polygon = new Polygon();
			
			for(int j=0;j<oldPolygonLines.size();j++){
				polygon.addLine(oldPolygonLines.get(j).copy());
			}
			polygons.add(polygon);
		}
		
		for(int i=0;i<this.lines.size();i++){
			Line line = this.lines.get(i).copy();
			lines.add(line);
			points.add(line.start);
			points.add(line.end);
		}
		
		for(int i=0;i<this.points.size();i++){
			Point point = points.get(i).copy();
			points.add(point);
		}
		
		for(int i=0;i<this.ellipses.size();i++){
			Ellipse ellipse = this.ellipses.get(i).copy();
			ellipses.add(ellipse);
		}
		
		
		return new Pattern(newOrigin, points, lines, polygons, ellipses);
	}


}
